title: Collaborative Markov Chain Model
date: 2013-04-22 21:23:27
categories: Math
tags: Math
---

## 理论

### 马尔可夫过程(Markov Process)

Markov过程是一个满足Markov性(无后效性)的随机过程。
具有马尔可夫性质的随机过程称为__马尔可夫__过程。[1]

最有名的Markov过程是Markov链，但还有其他的过程，如布朗运动，也是Markov过程。

###马尔可夫性质

__马尔可夫性质__是概率论中的一个概念。当一个随即过程在给定状态及所有过去状态情况下，其未来状态的条件概率分布仅依赖于当前状态；换句话说，在给定现在状态时，它与过去状态（即该过程的历史路径）是条件独立的，那么此随机过程具有__马尔可夫性质__。[2]

过程或（系统）在时刻t0所处的状态为已知的条件下，过程在时刻t>t0所处状态的条件分布，与过程在时刻t0之前所处的状态无关的特性称为马尔可夫性或无后效性。[1]即：已知“现在”过程的情况下，“_将来_”过程的情况与“_过去_”的情况无关。


数学上，如果'X(t),t>0'为一个随机过程，则马尔可夫性质就是指

{% img [img] //upload.wikimedia.org/math/7/a/d/7ad721c51e3fd880f548cbfa67e80832.png %}

<!-- more -->

马尔可夫过程通常称其为__（时间）齐次__，如果满足

{% img [img] //upload.wikimedia.org/math/1/a/9/1a97955e98197a3ef3212d0cfba0a752.png %}

则称为__（时间)非齐次__

###马尔可夫链

__定义：__

马尔可夫链是随机变量_X1,X2,X3..._的一个数列。这些变量的范围，即他们所有可能取值的集合，被称为“状态空间”，而Xn的值则是在时间的状态。

已知随机变量Xn是n时刻的状态，如果Xn+1对于过去状态的条件概率分布仅是Xn的一个函数，则

`P(Xn+1=x|X0,X1,X2,…,Xn)=P(Xn+1=x|Xn), x为过程中的某个状态。`

时间和状态都是离散的Markov过程称之为Markov链，简记为马氏链。

###马氏链的转移概率(Transition probability)


在经过一段较长时间的状态转移后，Markov过程会逐渐趋于稳定状态，且与初始状态无关，称为终极状态概率，或平衡状态概率。此时，记终极状态概率向量为X=[x1,x2,…,xn],则有X=Xp,0<=Xi<=1(I=1,2，…,n)，可用于预测Markov过程在未来出现什么趋势的重要信息。目前多应用于统计，生物，地理统计学，人力资源，因特网应用等多个领域。

###Slope one 协同过滤算法

__Slope One__ 是一系列应用于 协同过滤的算法的统称。由于它的简洁高效，并拥有不输于其他复杂算法的精确度，因此用它来改进Markov链模型。

简要说明一下，__Slope One__和大多评分算法类似并不适用于类似电子商务中，买家只提供买或者不买这样的二进制数据情况。

Slope One的一系列基于Item-based协同过滤算法，其本质上都是线性回归函数(f(x) = x + c)，好处是减少__过适（过拟合）__。对比于一个项目评分和另一个项目评分的线性回归（f(x) = ax + c），它只需要一半的存储量。也符合___奥卡姆剃刀___的原理：__若无必要，勿增实体__。

{% img //upload.wikimedia.org/wikipedia/commons/c/cb/Simplicity_diagram.png %}

1. User A 对 Item I 评分为1 对Item J 评分为1.5
2. User B 对 Item I 评分为2
3. 你认为 User B 会给 Item J 打几分?
4. Slope One 的答案是：2.5 (1.5-1+2=2.5).

对“n”个项目，想要实现 __Slope One__，只需要计算并存储“n”对评分间的平均差值和评价数目即可。

###协同马尔可夫链模型

使用改变的__Slope One__对数据进行初次协同过滤处理，并在此基础上结合Markov链模型对用户行为进行分析预测。在一个推荐系统中，推荐的准确性很大程度上取决于其基于的数据库的大小，数据量小的情况下，经常会遇到冷启动的问题（Cold boot problem），区别于计算机系统的冷启动（Cold Start），它包括两个方面，一方面是新指用户没有行为数据，无法根据历史行为，预测其兴趣爱好，另一方面是新资源没有访问记录，没有数据分析，无法向用户推荐。

使用协同马尔可夫链模型，可以相对准确的预测用户的兴趣，有效的减少冷启动的问题。

以上是理论部分，简单介绍了协同马尔可夫模型的一些理论依据，下面重点讲解其在用户行为分析中的应用与分析。

###参考文献：

1. [马尔可夫过程 - MBA智库百科](http://wiki.mbalib.com/wiki/马尔可夫过程)
2. [马尔可夫性质- 维基百科，自由的百科全书 - 维基百科- Wikipedia](https://zh.wikipedia.org/wiki/马尔可夫性质)

